{% extends 'main.html' %}
{% load static %}
{% block title %}Welcome to the Hospital Management System{% endblock %}

{% block content %}
    <div class="doctor_dashboard">
        <div class="welcome_card">
            <!-- Profile icon and text on the same line -->
            <div class="profile_info">
                <div class="profile_icon">
                    <i class="fas fa-user-circle"></i> <!-- Font Awesome user circle icon -->
                </div>
                <div class="welcome_text">
                    <h2>Hello, {{ user.first_name }} {{ user.last_name }}</h2>
                    <p>Welcome back to your dashboard.</p>
                </div>
            </div>
        </div>
        <div class="appointment-summary-details">
            <div class="card mb-5">
                <div class="card-header">
                    <i class="fas fa-calendar-check"></i>
                    <h6>Total Appointments</h6>
                </div>
                <div class="card-body">
                    <div class="appointment-count">
                        <p>{{ total_appointment_count }}</p>
                    </div>
                </div>
            </div>
           <!-- Total Pending Appointments -->
           <a href="{% url 'doctor_view_appointments' %}" class="card-link">
                <div class="card mb-5">
                    <div class="card-header">
                        <i class="fas fa-clock"></i>
                        <h6>Total Pending Appointments</h6>
                        {% if total_pending_appointment_count > 0 %}
                            <span class="notification-badge">!</span>
                        {% endif %}
                    </div>
                    <div class="card-body">
                        <div class="appointment-count">
                            <p>{{ total_pending_appointment_count }}</p>
                        </div>
                    </div>
                </div>
            </a>
        
            <!-- Total Confirmed Appointments -->
            <div class="card mb-5">
                <div class="card-header">
                    <i class="fas fa-check-circle"></i>
                    <h6>Total Confirmed Appointments</h6>
                </div>
                <div class="card-body">
                    <div class="appointment-count">
                        <p>{{ total_confirmed_appointment_count }}</p>
                    </div>
                </div>
            </div>
            <div class="card mb-5">
                <div class="card-header">
                    <i class="fas fa-times-circle"></i>
                    <h6>Total Rejected Appointments</h6>
                </div>
                <div class="card-body">
                    <div class="appointment-count">
                        <p>{{ total_cancelled_appointment_count }}</p>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="content mt-3">
            <div class="options">
                <a href="{% url 'doctor_view_appointments' %}" class="btn">
                    <i class="fas fa-clipboard-list"></i> Appointments
                </a>
            </div>
        </div>
    </div>
    <!-- Link to Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/dashboard.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
{% endblock %}
